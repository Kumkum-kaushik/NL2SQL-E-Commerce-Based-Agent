{
  "timestamp": "2026-01-15T22:44:46.737290",
  "results": [
    {
      "question": "Show all customers",
      "expected_sql": "SELECT * FROM customers;",
      "difficulty": "easy",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT * FROM customers;",
      "generation_time_ms": 1012.87,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 4.84,
      "execution_success": true,
      "row_count": 100
    },
    {
      "question": "List all products in the Electronics category",
      "expected_sql": "SELECT * FROM products WHERE category = 'Electronics';",
      "difficulty": "easy",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT * FROM products WHERE category = 'Electronics';",
      "generation_time_ms": 1131.83,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 19.73,
      "execution_success": true,
      "row_count": 4
    },
    {
      "question": "How many orders have been placed?",
      "expected_sql": "SELECT COUNT(*) as total_orders FROM orders;",
      "difficulty": "easy",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT COUNT(*) as total_orders FROM orders;",
      "generation_time_ms": 525.46,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 18.72,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "What is the total revenue from all payments?",
      "expected_sql": "SELECT SUM(amount) as total_revenue FROM payments;",
      "difficulty": "easy",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT SUM(amount) as total_revenue FROM payments;",
      "generation_time_ms": 719.67,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 4.13,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "Show customers from USA",
      "expected_sql": "SELECT * FROM customers WHERE country = 'USA';",
      "difficulty": "easy",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT * FROM customers WHERE country = 'USA';",
      "generation_time_ms": 484.01,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 5.52,
      "execution_success": true,
      "row_count": 100
    },
    {
      "question": "List the top 5 most expensive products",
      "expected_sql": "SELECT * FROM products ORDER BY price DESC LIMIT 5;",
      "difficulty": "medium",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT * FROM products ORDER BY price DESC LIMIT 5;",
      "generation_time_ms": 454.76,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 1.5,
      "execution_success": true,
      "row_count": 5
    },
    {
      "question": "Show total sales by category",
      "expected_sql": "SELECT p.category, SUM(oi.quantity * oi.unit_price) as total_sales FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.category ORDER BY total_sales DESC;",
      "difficulty": "medium",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT p.category, SUM(oi.quantity * oi.unit_price) as total_sales FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.category ORDER BY total_sales DESC;",
      "generation_time_ms": 418.93,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 21.37,
      "execution_success": true,
      "row_count": 6
    },
    {
      "question": "Which customers have placed more than one order?",
      "expected_sql": "SELECT c.name, c.email, COUNT(o.order_id) as order_count FROM customers c JOIN orders o ON c.customer_id = o.customer_id GROUP BY c.customer_id, c.name, c.email HAVING COUNT(o.order_id) > 1;",
      "difficulty": "medium",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT c.name, c.email, COUNT(o.order_id) as order_count FROM customers c JOIN orders o ON c.customer_id = o.customer_id GROUP BY c.customer_id, c.name, c.email HAVING COUNT(o.order_id) > 1;",
      "generation_time_ms": 884.87,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 28.91,
      "execution_success": true,
      "row_count": 100
    },
    {
      "question": "What is the average order value?",
      "expected_sql": "SELECT AVG(amount) as avg_order_value FROM payments;",
      "difficulty": "medium",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT AVG(amount) as avg_order_value FROM payments;",
      "generation_time_ms": 843.9,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 3.24,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "Show orders with their customer names and total amounts",
      "expected_sql": "SELECT o.order_id, c.name as customer_name, p.amount as total_amount, o.order_date FROM orders o JOIN customers c ON o.customer_id = c.customer_id JOIN payments p ON o.order_id = p.order_id;",
      "difficulty": "medium",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT o.order_id, c.name as customer_name, SUM(oi.quantity * oi.unit_price) as total_amount, o.order_date FROM orders o JOIN customers c ON o.customer_id = c.customer_id JOIN order_items oi ON o.order_id = oi.order_id GROUP BY o.order_id, c.name, o.order_date",
      "generation_time_ms": 447.86,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 23.59,
      "execution_success": true,
      "row_count": 100
    },
    {
      "question": "Find the most popular product by quantity sold",
      "expected_sql": "SELECT p.name, SUM(oi.quantity) as total_quantity FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.product_id, p.name ORDER BY total_quantity DESC LIMIT 1;",
      "difficulty": "difficult",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT p.name, SUM(oi.quantity) as total_quantity FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.product_id, p.name ORDER BY total_quantity DESC LIMIT 1;",
      "generation_time_ms": 500.86,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 20.95,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "Show monthly revenue for 2024",
      "expected_sql": "SELECT strftime('%Y-%m', payment_date) as month, SUM(amount) as revenue FROM payments WHERE strftime('%Y', payment_date) = '2024' GROUP BY month ORDER BY month;",
      "difficulty": "difficult",
      "strategy": 1,
      "execution_accuracy": false,
      "generated_sql": "SELECT TO_CHAR(payment_date, 'YYYY-MM') as month, SUM(amount) as revenue FROM payments WHERE EXTRACT(YEAR FROM payment_date) = 2024 GROUP BY month ORDER BY month;",
      "generation_time_ms": 674.56,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 0.0,
      "execution_success": true,
      "row_count": 0
    },
    {
      "question": "Which payment method is most commonly used?",
      "expected_sql": "SELECT payment_method, COUNT(*) as usage_count FROM payments GROUP BY payment_method ORDER BY usage_count DESC LIMIT 1;",
      "difficulty": "medium",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT payment_method, COUNT(*) as usage_count FROM payments GROUP BY payment_method ORDER BY usage_count DESC LIMIT 1;",
      "generation_time_ms": 981.98,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 9.82,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "List customers who have never placed an order",
      "expected_sql": "SELECT c.* FROM customers c LEFT JOIN orders o ON c.customer_id = o.customer_id WHERE o.order_id IS NULL;",
      "difficulty": "difficult",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT c.* FROM customers c LEFT JOIN orders o ON c.customer_id = o.customer_id WHERE o.order_id IS NULL;",
      "generation_time_ms": 917.58,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 25.14,
      "execution_success": true,
      "row_count": 0
    },
    {
      "question": "Show the top 3 customers by total spending",
      "expected_sql": "SELECT c.name, c.email, SUM(p.amount) as total_spent FROM customers c JOIN orders o ON c.customer_id = o.customer_id JOIN payments p ON o.order_id = p.order_id GROUP BY c.customer_id, c.name, c.email ORDER BY total_spent DESC LIMIT 3;",
      "difficulty": "difficult",
      "strategy": 1,
      "execution_accuracy": true,
      "generated_sql": "SELECT c.name, c.email, SUM(p.amount) as total_spent FROM customers c JOIN orders o ON c.customer_id = o.customer_id JOIN payments p ON o.order_id = p.order_id GROUP BY c.customer_id, c.name, c.email ORDER BY total_spent DESC LIMIT 3;",
      "generation_time_ms": 590.55,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 36.52,
      "execution_success": true,
      "row_count": 3
    },
    {
      "question": "Show all customers",
      "expected_sql": "SELECT * FROM customers;",
      "difficulty": "easy",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT * FROM customers;",
      "generation_time_ms": 661.29,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 2.0,
      "execution_success": true,
      "row_count": 100
    },
    {
      "question": "List all products in the Electronics category",
      "expected_sql": "SELECT * FROM products WHERE category = 'Electronics';",
      "difficulty": "easy",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT * FROM products WHERE category = 'Electronics';",
      "generation_time_ms": 1504.64,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 1.02,
      "execution_success": true,
      "row_count": 4
    },
    {
      "question": "How many orders have been placed?",
      "expected_sql": "SELECT COUNT(*) as total_orders FROM orders;",
      "difficulty": "easy",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT COUNT(*) as total_orders FROM orders;",
      "generation_time_ms": 1046.73,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 1.54,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "What is the total revenue from all payments?",
      "expected_sql": "SELECT SUM(amount) as total_revenue FROM payments;",
      "difficulty": "easy",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT SUM(amount) as total_revenue FROM payments;",
      "generation_time_ms": 540.7,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 3.21,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "Show customers from USA",
      "expected_sql": "SELECT * FROM customers WHERE country = 'USA';",
      "difficulty": "easy",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT * FROM customers WHERE country = 'USA';",
      "generation_time_ms": 664.36,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 2.54,
      "execution_success": true,
      "row_count": 100
    },
    {
      "question": "List the top 5 most expensive products",
      "expected_sql": "SELECT * FROM products ORDER BY price DESC LIMIT 5;",
      "difficulty": "medium",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT * FROM products ORDER BY price DESC LIMIT 5;",
      "generation_time_ms": 631.4,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 1.52,
      "execution_success": true,
      "row_count": 5
    },
    {
      "question": "Show total sales by category",
      "expected_sql": "SELECT p.category, SUM(oi.quantity * oi.unit_price) as total_sales FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.category ORDER BY total_sales DESC;",
      "difficulty": "medium",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT p.category, SUM(oi.quantity * oi.unit_price) as total_sales FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.category ORDER BY total_sales DESC;",
      "generation_time_ms": 1558.73,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 14.59,
      "execution_success": true,
      "row_count": 6
    },
    {
      "question": "Which customers have placed more than one order?",
      "expected_sql": "SELECT c.name, c.email, COUNT(o.order_id) as order_count FROM customers c JOIN orders o ON c.customer_id = o.customer_id GROUP BY c.customer_id, c.name, c.email HAVING COUNT(o.order_id) > 1;",
      "difficulty": "medium",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT c.name, c.email, COUNT(o.order_id) as order_count FROM customers c JOIN orders o ON c.customer_id = o.customer_id GROUP BY c.customer_id, c.name, c.email HAVING COUNT(o.order_id) > 1;",
      "generation_time_ms": 1348.76,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 17.6,
      "execution_success": true,
      "row_count": 100
    },
    {
      "question": "What is the average order value?",
      "expected_sql": "SELECT AVG(amount) as avg_order_value FROM payments;",
      "difficulty": "medium",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT AVG(amount) as avg_order_value FROM payments;",
      "generation_time_ms": 1148.08,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 2.01,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "Show orders with their customer names and total amounts",
      "expected_sql": "SELECT o.order_id, c.name as customer_name, p.amount as total_amount, o.order_date FROM orders o JOIN customers c ON o.customer_id = c.customer_id JOIN payments p ON o.order_id = p.order_id;",
      "difficulty": "medium",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT o.order_id, c.name as customer_name, p.amount as total_amount, o.order_date FROM orders o JOIN customers c ON o.customer_id = c.customer_id JOIN payments p ON o.order_id = p.order_id;",
      "generation_time_ms": 708.23,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 2.53,
      "execution_success": true,
      "row_count": 100
    },
    {
      "question": "Find the most popular product by quantity sold",
      "expected_sql": "SELECT p.name, SUM(oi.quantity) as total_quantity FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.product_id, p.name ORDER BY total_quantity DESC LIMIT 1;",
      "difficulty": "difficult",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT p.name, SUM(oi.quantity) as total_quantity FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.product_id, p.name ORDER BY total_quantity DESC LIMIT 1;",
      "generation_time_ms": 3130.79,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 22.62,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "Show monthly revenue for 2024",
      "expected_sql": "SELECT strftime('%Y-%m', payment_date) as month, SUM(amount) as revenue FROM payments WHERE strftime('%Y', payment_date) = '2024' GROUP BY month ORDER BY month;",
      "difficulty": "difficult",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT strftime('%Y-%m', payment_date) as month, SUM(amount) as revenue FROM payments WHERE strftime('%Y', payment_date) = '2024' GROUP BY month ORDER BY month;",
      "generation_time_ms": 603.61,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 23.85,
      "execution_success": true,
      "row_count": 12
    },
    {
      "question": "Which payment method is most commonly used?",
      "expected_sql": "SELECT payment_method, COUNT(*) as usage_count FROM payments GROUP BY payment_method ORDER BY usage_count DESC LIMIT 1;",
      "difficulty": "medium",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT payment_method, COUNT(*) as usage_count FROM payments GROUP BY payment_method ORDER BY usage_count DESC LIMIT 1;",
      "generation_time_ms": 929.62,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 8.54,
      "execution_success": true,
      "row_count": 1
    },
    {
      "question": "List customers who have never placed an order",
      "expected_sql": "SELECT c.* FROM customers c LEFT JOIN orders o ON c.customer_id = o.customer_id WHERE o.order_id IS NULL;",
      "difficulty": "difficult",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT c.* FROM customers c LEFT JOIN orders o ON c.customer_id = o.customer_id WHERE o.order_id IS NULL;",
      "generation_time_ms": 1779.04,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 29.59,
      "execution_success": true,
      "row_count": 0
    },
    {
      "question": "Show the top 3 customers by total spending",
      "expected_sql": "SELECT c.name, c.email, SUM(p.amount) as total_spent FROM customers c JOIN orders o ON c.customer_id = o.customer_id JOIN payments p ON o.order_id = p.order_id GROUP BY c.customer_id, c.name, c.email ORDER BY total_spent DESC LIMIT 3;",
      "difficulty": "difficult",
      "strategy": 2,
      "execution_accuracy": true,
      "generated_sql": "SELECT c.name, c.email, SUM(p.amount) as total_spent FROM customers c JOIN orders o ON c.customer_id = o.customer_id JOIN payments p ON o.order_id = p.order_id GROUP BY c.customer_id, c.name, c.email ORDER BY total_spent DESC LIMIT 3;",
      "generation_time_ms": 1374.3,
      "valid": true,
      "validation_message": "Query is valid",
      "execution_time_ms": 42.02,
      "execution_success": true,
      "row_count": 3
    }
  ],
  "strategy_comparisons": [
    {
      "question": "Show all customers",
      "difficulty": "easy",
      "comparison": {
        "question": "Show all customers",
        "strategy1": {
          "sql": "SELECT * FROM customers;",
          "valid": true,
          "message": "Query is valid"
        },
        "strategy2": {
          "sql": "SELECT * FROM customers;",
          "valid": true,
          "message": "Query is valid"
        }
      }
    },
    {
      "question": "Show total sales by category",
      "difficulty": "medium",
      "comparison": {
        "question": "Show total sales by category",
        "strategy1": {
          "sql": "SELECT p.category, SUM(oi.quantity * oi.unit_price) as total_sales FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.category ORDER BY total_sales DESC;",
          "valid": true,
          "message": "Query is valid"
        },
        "strategy2": {
          "sql": "SELECT p.category, SUM(oi.quantity * oi.unit_price) as total_sales FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.category ORDER BY total_sales DESC;",
          "valid": true,
          "message": "Query is valid"
        }
      }
    },
    {
      "question": "Find the most popular product by quantity sold",
      "difficulty": "difficult",
      "comparison": {
        "question": "Find the most popular product by quantity sold",
        "strategy1": {
          "sql": "SELECT p.name, SUM(oi.quantity) as total_quantity FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.product_id, p.name ORDER BY total_quantity DESC LIMIT 1;",
          "valid": true,
          "message": "Query is valid"
        },
        "strategy2": {
          "sql": "SELECT p.name, SUM(oi.quantity) as total_quantity FROM products p JOIN order_items oi ON p.product_id = oi.product_id GROUP BY p.product_id, p.name ORDER BY total_quantity DESC LIMIT 1;",
          "valid": true,
          "message": "Query is valid"
        }
      }
    },
    {
      "question": "List customers who have never placed an order",
      "difficulty": "difficult",
      "comparison": {
        "question": "List customers who have never placed an order",
        "strategy1": {
          "sql": "SELECT c.* FROM customers c LEFT JOIN orders o ON c.customer_id = o.customer_id WHERE o.order_id IS NULL;",
          "valid": true,
          "message": "Query is valid"
        },
        "strategy2": {
          "sql": "SELECT c.* FROM customers c LEFT JOIN orders o ON c.customer_id = o.customer_id WHERE o.order_id IS NULL;",
          "valid": true,
          "message": "Query is valid"
        }
      }
    }
  ],
  "metrics": {
    "total_queries": 15,
    "strategies": {
      "Strategy 1 (Schema-First)": {
        "total_queries": 15,
        "successful_executions": 15,
        "accurate_executions": 14,
        "valid_queries": 15,
        "success_rate": 100.0,
        "accuracy_rate": 93.33,
        "validation_rate": 100.0,
        "avg_generation_time_ms": 705.98,
        "avg_execution_time_ms": 14.93,
        "min_generation_time_ms": 418.93,
        "max_generation_time_ms": 1131.83,
        "by_difficulty": {
          "easy": {
            "total": 5,
            "successful": 5,
            "accurate": 5,
            "success_rate": 100.0,
            "accuracy_rate": 100.0
          },
          "medium": {
            "total": 6,
            "successful": 6,
            "accurate": 6,
            "success_rate": 100.0,
            "accuracy_rate": 100.0
          },
          "difficult": {
            "total": 4,
            "successful": 4,
            "accurate": 3,
            "success_rate": 100.0,
            "accuracy_rate": 75.0
          }
        }
      },
      "Strategy 2 (Chain-of-Thought)": {
        "total_queries": 15,
        "successful_executions": 15,
        "accurate_executions": 15,
        "valid_queries": 15,
        "success_rate": 100.0,
        "accuracy_rate": 100.0,
        "validation_rate": 100.0,
        "avg_generation_time_ms": 1175.35,
        "avg_execution_time_ms": 11.68,
        "min_generation_time_ms": 540.7,
        "max_generation_time_ms": 3130.79,
        "by_difficulty": {
          "easy": {
            "total": 5,
            "successful": 5,
            "accurate": 5,
            "success_rate": 100.0,
            "accuracy_rate": 100.0
          },
          "medium": {
            "total": 6,
            "successful": 6,
            "accurate": 6,
            "success_rate": 100.0,
            "accuracy_rate": 100.0
          },
          "difficult": {
            "total": 4,
            "successful": 4,
            "accurate": 4,
            "success_rate": 100.0,
            "accuracy_rate": 100.0
          }
        }
      }
    }
  }
}